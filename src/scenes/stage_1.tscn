[gd_scene load_steps=20 format=3 uid="uid://be6jl7hkhk83f"]

[ext_resource type="Script" path="res://src/scripts/stage_1.gd" id="1_4gyp0"]
[ext_resource type="PackedScene" uid="uid://da0r78ku1axgl" path="res://src/scenes/player.tscn" id="2_fbvrm"]
[ext_resource type="PackedScene" uid="uid://bwnjofdaho3ye" path="res://src/scenes/pause_menu.tscn" id="2_kkbix"]
[ext_resource type="Script" path="res://src/scripts/enemy_spawner.gd" id="3_1y1wr"]
[ext_resource type="Script" path="res://src/scripts/inventory.gd" id="3_vy42h"]
[ext_resource type="Script" path="res://src/scripts/playing_field.gd" id="4_ke03q"]
[ext_resource type="Script" path="res://src/scenes/spell_bar.gd" id="4_pjxr0"]
[ext_resource type="PackedScene" uid="uid://b7tnc5ioo421q" path="res://src/scenes/active_spell_slot.tscn" id="5_vf056"]
[ext_resource type="Texture2D" uid="uid://cdx0t5kjpflut" path="res://Sprites/trail.png" id="5_ys2kl"]
[ext_resource type="Texture2D" uid="uid://tsoric5wov3k" path="res://Sprites/Interface.png" id="6_hkkhn"]
[ext_resource type="PackedScene" uid="uid://jetxr5evmss0" path="res://src/scenes/xp.tscn" id="10_atx4p"]
[ext_resource type="PackedScene" uid="uid://bmifckslyml5a" path="res://src/scenes/death_menu.tscn" id="10_io8fh"]
[ext_resource type="PackedScene" uid="uid://dnelxik8wwmah" path="res://src/scenes/inventory_slot.tscn" id="12_sboef"]
[ext_resource type="PackedScene" uid="uid://h1b3oqp0thi5" path="res://src/scenes/entities/phantum.tscn" id="15_5hykm"]
[ext_resource type="PackedScene" uid="uid://yxwv0kccm3pr" path="res://src/scenes/test_scene.tscn" id="15_h5tek"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_hnd5c"]
normal = Vector2(-1, 0)
distance = 50.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_vw042"]
normal = Vector2(1, 0)
distance = 1080.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_82ujv"]
normal = Vector2(0, 1)
distance = 30.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_voigi"]
distance = -1050.0

[node name="Stage 1" type="Node2D"]
process_mode = 3
script = ExtResource("1_4gyp0")

[node name="Border Left" type="CollisionShape2D" parent="."]
shape = SubResource("WorldBoundaryShape2D_hnd5c")

[node name="Border" type="StaticBody2D" parent="."]
collision_layer = 0
collision_mask = 2

[node name="LineEdit" type="LineEdit" parent="."]
z_index = 3
offset_left = 1671.0
offset_top = 91.0
offset_right = 1762.0
offset_bottom = 126.0
text = "0"

[node name="TextureRect" type="TextureRect" parent="."]
z_index = 4
offset_left = 1513.0
offset_top = 255.0
offset_right = 1658.0
offset_bottom = 334.0

[node name="Lives" type="ItemList" parent="."]
z_index = 3
offset_left = 1346.0
offset_top = 320.0
offset_right = 1802.0
offset_bottom = 398.0
allow_search = false
max_columns = 5
same_column_width = true
fixed_column_width = 70

[node name="Pause Menu" parent="." instance=ExtResource("2_kkbix")]

[node name="Inventory" type="GridContainer" parent="." groups=["Inventory"]]
visible = false
z_index = 2
offset_left = 125.0
offset_top = 670.0
offset_right = 959.0
offset_bottom = 991.0
columns = 8
script = ExtResource("3_vy42h")

[node name="Spell Bar" type="GridContainer" parent="." groups=["Spell Bar"]]
z_index = 3
offset_left = 1435.0
offset_top = 833.0
offset_right = 1709.0
offset_bottom = 910.0
columns = 4
script = ExtResource("4_pjxr0")

[node name="Spell Cooldown 1" type="ProgressBar" parent="Spell Bar"]
layout_mode = 2
show_percentage = false

[node name="Spell Cooldown 2" type="ProgressBar" parent="Spell Bar"]
layout_mode = 2
show_percentage = false

[node name="Spell Cooldown 3" type="ProgressBar" parent="Spell Bar"]
layout_mode = 2
show_percentage = false

[node name="Spell Cooldown 4" type="ProgressBar" parent="Spell Bar"]
layout_mode = 2
show_percentage = false

[node name="Active Spell Slot 1" parent="Spell Bar" instance=ExtResource("5_vf056")]
layout_mode = 2

[node name="Active Spell Slot 2" parent="Spell Bar" instance=ExtResource("5_vf056")]
layout_mode = 2

[node name="Active Spell Slot 3" parent="Spell Bar" instance=ExtResource("5_vf056")]
layout_mode = 2

[node name="Active Spell Slot 4" parent="Spell Bar" instance=ExtResource("5_vf056")]
layout_mode = 2

[node name="Playing Field" type="Node2D" parent="." groups=["Field"]]
process_mode = 1
script = ExtResource("4_ke03q")

[node name="Trail" type="Sprite2D" parent="Playing Field"]
position = Vector2(565, -444)
texture = ExtResource("5_ys2kl")

[node name="Player" parent="Playing Field" instance=ExtResource("2_fbvrm")]
z_index = 1
position = Vector2(515, 950)

[node name="Enemy Spawner" type="Node" parent="Playing Field"]
script = ExtResource("3_1y1wr")

[node name="Timer" type="Timer" parent="Playing Field/Enemy Spawner"]
wait_time = 3.0
autostart = true

[node name="Interface" type="Sprite2D" parent="."]
z_index = 2
position = Vector2(960.5, 540)
scale = Vector2(1.00052, 1)
texture = ExtResource("6_hkkhn")

[node name="XP" parent="." instance=ExtResource("10_atx4p")]
visible = false

[node name="Death Menu" parent="." instance=ExtResource("10_io8fh")]
visible = false
z_index = 4

[node name="Grabbed Spell Slot" parent="." groups=["GrabbedSpellSlot"] instance=ExtResource("12_sboef")]
offset_left = 1000.0
offset_top = 970.0
offset_right = 1064.0
offset_bottom = 1034.0

[node name="Area2D" parent="." instance=ExtResource("15_h5tek")]
position = Vector2(-164, 977)

[node name="Phantum" parent="." instance=ExtResource("15_5hykm")]
position = Vector2(-244, -88)

[node name="Border Right" type="CollisionShape2D" parent="."]
shape = SubResource("WorldBoundaryShape2D_vw042")

[node name="Border Up" type="CollisionShape2D" parent="."]
shape = SubResource("WorldBoundaryShape2D_82ujv")

[node name="Border down" type="CollisionShape2D" parent="."]
shape = SubResource("WorldBoundaryShape2D_voigi")

[connection signal="player_died" from="Playing Field/Player" to="." method="_on_player_player_died"]
[connection signal="timeout" from="Playing Field/Enemy Spawner/Timer" to="Playing Field/Enemy Spawner" method="_on_timer_timeout"]
